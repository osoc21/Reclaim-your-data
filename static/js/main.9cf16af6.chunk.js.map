{"version":3,"sources":["Login.js","GridView.js","pod.js","FileExplorer.js","FileUpload.js","App.js","reportWebVitals.js","index.js"],"names":["Login","props","setLoggedIn","setWebId","session","a","handleIncomingRedirect","getDefaultSession","info","isLoggedIn","webId","handleRedirectAfterLogin","className","onClick","login","oidcIssuer","redirectUrl","window","location","href","clientName","GridView","files","openLink","useState","folderImages","setFolderImages","isFolder","url","endsWith","isImage","getName","match","console","log","length","processedUrls","entry","processedEntry","shortName","isFolderBoolean","imageUrl","push","getFile","fetch","raw","URL","createObjectURL","renderEntry","folderEntry","xmlns","fill","class","viewBox","d","Image","variant","src","rounded","useEffect","fetchSomeData","Row","xs","map","index","Card","Body","Title","tempPodPattern","getPODUrlFromWebId","FileExplorer","MY_POD_URL","setFiles","setLoading","currentPath","explorerPath","setCurrentPath","setExplorerPath","openFolder","myUrl","getFilesFromResourceURL","then","fileArray","getSolidDataset","fetchedFiles","getThingAll","children","res","slice","Container","id","lastSlashPos","lastIndexOf","alert","FileUpload","selectedFiles","setSelectedFiles","placeFileInContainer","file","targetContainerURL","saveFileInContainer","slug","name","contentType","type","error","selectedFilesToReact","document","querySelector","click","multiple","onChange","e","target","Home","useRouteMatch","history","replace","App","loggedIn","useHistory","path","to","goBack","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9cf16af6.chunk.js","sourcesContent":["\nimport \"./Login.css\"\nimport React from \"react\";\n\n// Import from \"@inrupt/solid-client-authn-browser\"\nimport {\n  login,\n  handleIncomingRedirect,\n  getDefaultSession,\n} from '@inrupt/solid-client-authn-browser';\n\n\nfunction Login(props) {\n\tlet setLoggedIn = props.setLoggedIn;\n\tlet setWebId = props.setWebId;\n\n\tlet session = null;\n\n\t// 1a. Start Login Process. Call login() function.\n\tfunction loginToInruptDotCom() {\n\t  let chosenIssuer = \"https://broker.pod.inrupt.com\";\n\t  return login({\n\t    oidcIssuer: chosenIssuer,\n\t    redirectUrl: window.location.href,\n\t    clientName: \"Getting started app\"\n\t  });\n\t}\n\n\t// 1b. Login Redirect. Call handleIncomingRedirect() function.\n\t// When redirected after login, finish the process by retrieving session information.\n\tasync function handleRedirectAfterLogin() {\n\t  await handleIncomingRedirect();\n\n\t  session = getDefaultSession();\n\n\t  if (session.info.isLoggedIn) {\n\t    // Update the page with the status.\n\t    setLoggedIn(true);\n\t    setWebId(session.info.webId);\n\t  }\n\t}\n\n\thandleRedirectAfterLogin();\n\n\treturn (\n\t\t\t<div className=\"login-frame\">\n\t    \t<button className=\"login-btn\" onClick={loginToInruptDotCom}>Log-in</button>\n    \t</div>\n\t);\n}\n\n\nexport default Login;","import React, {useEffect, useState} from \"react\";\n\n// Import from \"@inrupt/solid-client-authn-browser\"\nimport {\n    fetch\n  } from '@inrupt/solid-client-authn-browser';\n\n  // Import from \"@inrupt/solid-client\"\nimport {\n    getFile,\n  } from '@inrupt/solid-client';\n\nimport {Shape, Card, Row, Col, CardGroup, Image, Container} from 'react-bootstrap';\n\nimport \"./grid-view.css\";\n\n\nfunction GridView(props){\n    let files = props.files;\n    let folderIcons = [];\n    let openLink = props.openLink;\n    const [folderImages, setFolderImages] = useState([]);\n\n\n\n    function isFolder(url){\n        return url.endsWith(\"/\");\n    }\n\n    function isImage(url){\n        let imageBoolean = url.endsWith(\".jpg\") || url.endsWith(\".jpeg\") || url.endsWith(\".png\");\n        return imageBoolean;\n    }\n\n    function getName(url){\n        let regex = /^https:\\/\\/pod\\.inrupt\\.com(\\/\\w+)*\\/(\\w+)/;\n        const match = url.match(regex);\n        console.log(match);\n        return match[match.length - 1];\n    }\n\n    async function fetchSomeData(files) {\n        console.log(\"Fetching\");\n        console.log(files);\n        let processedUrls = [];\n    \n        for (const entry of files) {\n          console.log(entry);\n          let processedEntry = {\n            url: entry.url,\n            shortName: getName(entry.url),\n            isFolderBoolean: isFolder(entry.url),\n            imageUrl: null,\n          };\n          processedUrls.push(processedEntry);\n    \n          if (isImage(processedEntry.url)) {\n            let raw = await getFile(processedEntry.url, { fetch: fetch });\n            let imageUrl = URL.createObjectURL(raw);\n            processedEntry.imageUrl = imageUrl;\n          }\n        }\n        setFolderImages(processedUrls);\n      }\n\n      useEffect(() => {\n        fetchSomeData(props.files)\n      }, [props.files]);\n    \n    function renderEntry(folderEntry){\n        let result = null;\n\n\n        console.log(\"imageUrl: \" + folderEntry.imageUrl);\n\n        if(folderEntry.isFolderBoolean || !isImage(folderEntry.url)){\n            result = <p onClick={() => openLink(folderEntry.url)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\"  fill=\"currentColor\" class=\"bi bi-folder\" viewBox=\"0 0 16 16\">\n                <path d=\"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z\"/>\n            </svg> \n\n        </p>\n        } else if(folderEntry.imageUrl){\n            result = <Image variant=\"top\" src={folderEntry.imageUrl} rounded/>\n        } else {\n            result =\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-card-image\" viewBox=\"0 0 16 16\">\n                <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n                <path d=\"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54A.505.505 0 0 1 1 12.5v-9a.5.5 0 0 1 .5-.5h13z\"/>\n            </svg>\n\n        }\n        return result;\n    }\n\n    return(\n        <Row xs={3} className=\"g-4\">\n            {folderImages.map((folderEntry, index) => (\n                <Card>\n                        {renderEntry(folderEntry)}\n                        \n                            <Card.Body>\n                                <Card.Title>\n                                    <p onClick={() => openLink(folderEntry.url)}>\n                                    {folderEntry.shortName}\n                                    </p>\n                                </Card.Title> \n                            </Card.Body>\n            \n                    </Card> \n\n            ))}\n                  \n        \n\n              \n        </Row>    \n    );\n}\n\n\nexport default GridView;","\n\nconst solidwebPattern = \"https:\\/\\/(\\w+\\.)solidweb.org\\/\";\nconst podInruptPattern = \"https:\\/\\/pod\\.inrupt\\.com\\/\\w+\\/\";\nconst tempPodPattern = /https:\\/\\/(\\w+\\.)solidweb.org\\/|https:\\/\\/pod\\.inrupt\\.com\\/\\w+\\//;\n\nfunction getPODUrlFromWebId(webId) \n{\n    return webId.match(tempPodPattern)[0];\n}\n\nexport {getPODUrlFromWebId};\nexport default getPODUrlFromWebId;","import React, {useState} from \"react\";\nimport GridView from \"./GridView\";\n\n\nimport {Row, Col, Container} from 'react-bootstrap';\n\nimport \"./FileExplorer.css\"\n\n// Import from \"@inrupt/solid-client-authn-browser\"\nimport {fetch} from '@inrupt/solid-client-authn-browser';\n\n// Import from \"@inrupt/solid-client\"\nimport {getSolidDataset, getThingAll} from '@inrupt/solid-client';\n\nimport {getPODUrlFromWebId} from './pod';\n\n\nfunction FileExplorer(props) {\n    let webId = props.webId;\n    const MY_POD_URL = getPODUrlFromWebId(webId);\n\n    let [files, setFiles] = useState([]);\n    let [loading, setLoading] = useState(false);\n\n    let currentPath = props.explorerPath;\n    let setCurrentPath = props.setExplorerPath;\n\n    if (currentPath === \"\")\n    {\n        setCurrentPath(MY_POD_URL);\n    }\n\n    function openFolder(myUrl)\n    {\n        setLoading(true);\n        // its important to set the current path first !!\n        getFilesFromResourceURL(myUrl).then((fileArray) => {\n            setCurrentPath(myUrl);\n            setFiles(fileArray);\n            setLoading(false);\n        });\n    }\n\n\n    function fileExplorerGoBack() \n    {\n        if (currentPath.length > MY_POD_URL.length && currentPath !== MY_POD_URL) \n        {\n            // find the second-last '/', then keep the substring until that '/'\n            // this gives the new path url\n            let lastSlashPos = currentPath.slice(0, -1).lastIndexOf('/');\n            let newPath = currentPath.slice(0, lastSlashPos + 1)\n\n            openFolder(newPath);\n           \n        } \n        else \n        {\n            alert(\"Cannot go back from POD root.\");\n        }\n    }\n\n\n    function resourceLink(itemURL, setCurrentPath, uniqueKey) {\n        let url = itemURL;\n        let resourceName = stripURL(url);\n\n        function open() \n        {\n            if (url.endsWith(\"/\")) \n            {\n                console.log(\"opening \" + url + \" ...\");\n                openFolder(url);\n            } \n            else \n            {\n                alert(\"this is a file, handle it\");\n            }\n        }\n\n       return {\"pathName\": {url}, \"open\": {open}};\n    }\n\n    /** Iteraetes on the file urls and returns an array of react components */\n    function stripURL(url) {\n        //Find the second-last '/', then keep the substring until that '/'\n        // this gives the new path url\n        let searchUpperBound = url.length;\n        if (url.endsWith('/')) {\n            searchUpperBound = url.length - 1\n        }\n        let slashPos = url.slice(0, searchUpperBound).lastIndexOf('/');\n        return url.slice(slashPos + 1, searchUpperBound);\n    }\n\n\n    function openLink(url)\n    {\n        // its important to set the current path first !!\n        getFilesFromResourceURL(url).then((fileArray) => {\n            setCurrentPath(url);\n            setFiles(fileArray);\n        });\n    }\n\n\n    /** Iterates on the file urls and returns an array of react components\n     * in the form of resourceLink elements  */\n    function fileArrayToReact() {\n        if (loading)\n        {\n            return <div className=\"loader\"></div> \n        }\n\n        // the first child element is self\n        if (files.length > 0) {\n            let reactElems = [];\n            let i = 0;\n\n            for (let item of files) {\n                reactElems.push(resourceLink(item.url, setCurrentPath, i));\n                i++;\n            }\n\n            return reactElems;\n        }\n\n        return <p><i>Nothing to display</i></p>;\n    }\n\n    async function getFilesFromResourceURL(url) {\n        const fetchedFiles = await getSolidDataset(url, {fetch: fetch});\n\n        let children = await getThingAll(fetchedFiles);\n\n        let res = []\n\n        // note: the first child element is self\n        if (children.length > 1) {\n            res = children.slice(1, children.length)\n        }\n\n        return res;\n    }\n\n    /** Fetch all files from the given path given relative to the root */\n    function getRootFiles() {\n        getFilesFromResourceURL(MY_POD_URL).then((fileArray) => {\n            setCurrentPath(MY_POD_URL);\n            setFiles(fileArray);\n        });\n    }\n\n\n    // only read files if not already in the array (avoid infinite refreshes !!!)\n    // but also if the current path is the root (it's possible that we're not in the\n    // root but the current path contains no file e.g. empty folder)\n    if ((files.length === 0) && (currentPath === MY_POD_URL)) \n    {\n        // Don't use animation here as FileExplorer might already\n        // be rendering and updating too many properties\n        // at that time might cause 'too many rerenders'\n        getRootFiles();\n    }\n\n\n    return (\n        <Container>\n            <Row>\n                <div id=\"file-explorer\">\n                    <button className=\"Button\" id=\"go-back\" onClick={fileExplorerGoBack}>Go back</button>\n                    <p>Files for current path ({currentPath}):</p>\n                </div>\n            </Row>\n            <GridView files={files} openLink={openLink}/>\n        </Container>\n    );\n}\n\nexport default FileExplorer;","import React, {useState} from \"react\"\n\n// Import from \"@inrupt/solid-client\"\nimport {\n    saveFileInContainer,\n    getSourceUrl\n} from '@inrupt/solid-client';\n\n// Import from \"@inrupt/solid-client-authn-browser\"\nimport {\n    fetch\n} from '@inrupt/solid-client-authn-browser';\n\n\nfunction FileUpload(props) {\n    let currentPath = props.explorerPath;\n    let [selectedFiles, setSelectedFiles] = useState([]);\n\n\n    function upload() {\n        for (let file of selectedFiles) {\n            placeFileInContainer(file, currentPath);\n        }\n        //TODO: add success/failure notification of uploading file(s)\n    }\n\n    /**\n     * Upload file into the targetContainer.\n     * @param  {[type]} file               [description]\n     * @param  {[type]} targetContainerURL [description]\n     * @return {[type]}                    [description]\n     */\n    async function placeFileInContainer(file, targetContainerURL) {\n        try {\n            const savedFile = await saveFileInContainer(\n                targetContainerURL,           // Container URL\n                file,                         // File\n                {\n                    slug: file.name, // file.name.split('.')[0]\n                    contentType: file.type, fetch: fetch\n                }\n            );\n        } catch (error) {\n            console.error(error);\n            alert(\"file '\" + file.name + \"' already exists.\");\n        }\n    }\n\n    function openFileSelectionWindow() {\n        document.querySelector(\"#file-input\").click();\n    }\n\n\n    function selectedFilesToReact() {\n        let res = [];\n\n        // selectedFiles is iterable but not an array, \n        // so map() and forEach() functions don't work\n        for (let file of selectedFiles) {\n            res.push(<li>{file.name}</li>);\n        }\n\n        return res;\n    }\n\n    function showSelectedFiles() {\n        return (\n            <div className=\"SelectedFilesDiv\">\n                <p>Selected files:</p>\n                <ul>{selectedFilesToReact()}</ul>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <h1>Upload files to {currentPath}</h1>\n            <button className=\"Button\" onClick={openFileSelectionWindow}>Add file(s)</button>\n            {showSelectedFiles()}\n            <button className=\"Button\" onClick={upload}>Upload</button>\n            <input id=\"file-input\" type=\"file\" multiple=\"multiple\"\n                name=\"fileUploadInput\"\n                className=\"file-selection\"\n                onChange={(e) => {\n                       setSelectedFiles(e.target.files);\n                }}/>\n        </div>\n    );\n}\n\nexport default FileUpload;\n","import './App.css';\nimport Login from \"./Login\";\nimport FileExplorer from \"./FileExplorer\";\nimport FileUpload from \"./FileUpload\";\nimport React, {useState} from \"react\";\n\n\nimport {\n  // Import Router and not BrowserRouter, otherwise history.push()\n  // will update the url displayed in the browser but will not re-render afterwards\n  Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useHistory,\n  useRouteMatch\n} from \"react-router-dom\";\n\n\nfunction App() {\n    let [loggedIn, setLoggedIn] = useState(false);\n    let [webId, setWebId] = useState(\"\");\n    let [explorerPath, setExplorerPath] = useState(\"\");\n    let history = useHistory();\n\n    function isLoggedIn()\n    {\n        return (webId !== \"\") && loggedIn;\n    }\n\n    return (\n        <Router history={history}>\n          <div className=\"app-div\">\n            <Switch>\n                <Route path=\"/login\">\n                    <Login setWebId={setWebId} setLoggedIn={setLoggedIn}/>\n                    {/* We execute this separately and after the login, this allows\n                    an automatic redirect to '/home' when we come back from login form. */}\n                    {isLoggedIn() ? <Redirect to=\"/\"/> : null} \n                </Route>\n                <Route path=\"/home/upload\">\n                    {isLoggedIn() ? <div><button className=\"Button\" onClick={() => history.goBack()}>Go back</button>\n                        <FileUpload explorerPath={explorerPath}/></div> : <Redirect to={\"/\"} />\n                    }\n                </Route>\n                <Route path=\"/home\">\n                    <button className=\"Button\" onClick={() => history.goBack()}>Go back</button>\n                    {isLoggedIn() ? <Home webId={webId}\n                    history={history}\n                    explorerPath={explorerPath}\n                    setExplorerPath={setExplorerPath}/> : <Redirect to=\"/\"/>}\n                </Route>\n                <Route path=\"/\">\n                    {isLoggedIn() ? <Redirect push to=\"/home\"/> : <Redirect push to=\"/login\"/>}\n                </Route>\n            </Switch>\n          </div>\n        </Router>\n    );\n}\n\nfunction Home(props)\n{\n    let webId = props.webId;\n    let match = useRouteMatch();\n\n    function gotoFileUpload()\n    {\n        console.log(\"goto file upload screen ...\");\n        props.history.replace(`${match.url}/upload`);\n    }\n\n    return (\n        <div>\n            <h1>You are logged in !!!</h1>\n            <h3>webID: {webId}</h3>\n            <button className=\"Button\" onClick={gotoFileUpload}>\n                Upload files\n            </button>\n            <FileExplorer webId={webId} explorerPath={props.explorerPath}\n            setExplorerPath={props.setExplorerPath}/>\n        </div>\n    );\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}